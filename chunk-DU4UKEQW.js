import{a as x,b as n,c as y,d as g,f as v,g as C,h as S,i as w,j as N,n as E,o as T,p as k,r as D}from"./chunk-HIKXMMJL.js";import{Ba as f,Eb as b,La as p,M as c,Ra as e,S as s,Sa as t,Ta as o,Va as h,_a as i,ha as u,ta as d}from"./chunk-WQUZ3S52.js";var P=1e3,F=3,A=(()=>{class l{constructor(){this.container=document.createElement("div"),this.totalNotifications=0,this.container.classList.add("notification-container"),document.body.appendChild(this.container)}show(r){let a=document.createElement("div");this.totalNotifications>=F&&this.container.firstChild?.remove(),this.totalNotifications++,a.textContent=r,a.classList.add("notification"),this.container.appendChild(a);let m=setTimeout(()=>{this.totalNotifications--,a.remove()},P);a.onclick=()=>{this.totalNotifications--,a.remove(),clearTimeout(m)}}static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275prov=c({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var M=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,L=(()=>{class l{constructor(){this.#e=s(k),this.#t=s(b),this.#i=s(A),this.currentDate=new Date,this.maxYear=this.currentDate.getFullYear(),this.submittedPostcard=u(),this.form=this.#e.nonNullable.group({year:[this.currentDate.getFullYear(),[n.required,n.max(this.maxYear)]],month:[this.currentDate.getMonth()+1,[n.required,n.min(1),n.max(12)]],day:[this.currentDate.getDate(),[n.required,n.min(1),n.max(31)]],serviceType:["lunch"],food:[5,[n.required,n.min(1),n.max(5)]],service:[5,[n.required,n.min(1),n.max(5)]],location:[5,[n.required,n.min(1),n.max(5)]],hospitality:[5,[n.required,n.min(1),n.max(5)]],howKnowUs:["client"],email:["",n.pattern(M)],phone:[""]})}#e;#t;#i;onSubmit(){let r=this.form.getRawValue();this.submittedPostcard.emit(r),this.#t.addPostcard(r),this.form.reset({year:r.year,month:r.month,day:r.day,serviceType:r.serviceType,howKnowUs:r.howKnowUs,food:5,service:5,location:5,hospitality:5,email:"",phone:""}),document.querySelector('[formcontrolname="day"]').focus(),this.#i.show("\u{1F44D}")}static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275cmp=f({type:l,selectors:[["app-insert-postcard"]],outputs:{submittedPostcard:"submittedPostcard"},decls:63,vars:3,consts:[[3,"ngSubmit","formGroup"],["data-inline",""],["type","number","formControlName","year",3,"max"],["type","number","min","1","max","12","formControlName","month"],["type","number","min","1","max","31","formControlName","day"],["type","radio","name","serviceType","value","lunch","formControlName","serviceType"],["type","radio","name","serviceType","value","dinner","formControlName","serviceType"],["type","radio","name","serviceType","value","unknown","formControlName","serviceType"],["type","number","min","1","max","5","formControlName","food"],["type","number","min","1","max","5","formControlName","service"],["type","number","min","1","max","5","formControlName","location"],["type","number","min","1","max","5","formControlName","hospitality"],["type","radio","name","howKnowUs","value","social","formControlName","howKnowUs"],["type","radio","name","howKnowUs","value","friend","formControlName","howKnowUs"],["type","radio","name","howKnowUs","value","client","formControlName","howKnowUs"],["type","email","formControlName","email"],["type","text","formControlName","phone"],["type","submit",3,"disabled"]],template:function(a,m){a&1&&(e(0,"form",0),h("ngSubmit",function(){return m.onSubmit()}),e(1,"fieldset")(2,"legend"),i(3,"Data"),t(),e(4,"label",1),i(5," Anno "),o(6,"input",2),t(),e(7,"label",1),i(8," Mese "),o(9,"input",3),t(),e(10,"label",1),i(11," Giorno "),o(12,"input",4),t()(),e(13,"fieldset")(14,"legend"),i(15,"Servizio"),t(),e(16,"label"),i(17," Pranzo "),o(18,"input",5),t(),e(19,"label"),i(20," Cena "),o(21,"input",6),t(),e(22,"label"),i(23," Non Definito "),o(24,"input",7),t()(),e(25,"fieldset")(26,"legend"),i(27,"Voti"),t(),e(28,"label"),i(29," Cibo "),o(30,"input",8),t(),e(31,"label"),i(32," Servizio "),o(33,"input",9),t(),e(34,"label"),i(35," Location "),o(36,"input",10),t(),e(37,"label"),i(38," Accoglienza "),o(39,"input",11),t()(),e(40,"fieldset")(41,"legend"),i(42,"Come ci hai conosciuto"),t(),e(43,"label"),i(44," Social "),o(45,"input",12),t(),e(46,"label"),i(47," Passaparola / Amici "),o(48,"input",13),t(),e(49,"label"),i(50," Cliente "),o(51,"input",14),t()(),e(52,"fieldset")(53,"legend"),i(54,"Contatti"),t(),e(55,"label"),i(56," Email "),o(57,"input",15),t(),e(58,"label"),i(59," Telefono "),o(60,"input",16),t()(),e(61,"button",17),i(62,"Salva"),t()()),a&2&&(p("formGroup",m.form),d(6),p("max",m.maxYear),d(55),p("disabled",!m.form.valid))},dependencies:[D,v,x,C,S,y,g,T,E,w,N],styles:[`app-insert-postcard{display:block;margin:auto;max-width:500px;background:var(--card-background);border-radius:8px;box-shadow:0 2px 4px var(--shadow-color);padding:1.5rem}app-insert-postcard fieldset{border:1px solid #ccc;border-radius:5px;padding:.5rem 1rem;margin-block-end:.5rem}app-insert-postcard label:has(input[type=radio]){padding:.2rem .5rem;background-color:#f0f0f0;color:#000;cursor:pointer;text-overflow:ellipsis;display:inline-block;border-radius:5px;margin-block-end:4px;border:1.5px solid #ccc}app-insert-postcard label:has(input[type=radio]) input{appearance:none;margin:0;padding:0;width:0;height:0;outline:none}app-insert-postcard label:has(input[type=radio]):not(:last-child){margin-inline-end:4px}app-insert-postcard label:has(input[type=radio]:checked){background-color:#1b66c8;border:1.5px solid #4a93d7;color:#fff}app-insert-postcard label:has(input[type=radio]:focus):focus-within{outline:2px solid #5099ed}app-insert-postcard label:has(input[type=radio]:not(:checked)):hover{outline:2px solid #5099ed;color:#000;background-color:#fafcff}app-insert-postcard label:has(input[type=number]):not([data-inline]){display:flex;justify-content:space-between;margin-block-end:4px}app-insert-postcard label:has(input[type=number])[data-inline]{display:inline-flex;flex-direction:column;column-gap:4px;margin-inline-end:4px}app-insert-postcard label:has(input[type=number]) input{padding:.2rem .5rem;border:1.5px solid #ccc;border-radius:5px;min-width:max-content}app-insert-postcard label:has(input[type=email],input[type=text],input[type=tel]){display:inline-flex;flex-direction:column;column-gap:4px;margin-block-end:4px;width:100%}app-insert-postcard label:has(input[type=email],input[type=text],input[type=tel]) input{padding:.2rem .5rem;border:1.5px solid #ccc;border-radius:5px}
`],encapsulation:2,changeDetection:0})}}return l})();export{L as CreatePostcardComponent};
